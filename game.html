<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Checkers Game</title>
  <link rel="stylesheet" href="css/game.css">
  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>
<body>
  <h1>PvP Checkers</h1>
  <div id="controls" style="margin-bottom: 18px;">
    <button id="print-btn">Print Moves</button>
    <button id="toggle-video-btn" style="margin-left: 10px;">Video Chat</button>
    <!-- External Video Chat Options -->
    <div id="external-video-options" style="display: none; margin-top: 10px; text-align: center;">
      <p style="color: #ffd700; margin-bottom: 10px; font-size: 0.9em;">External Video Chat Options:</p>
      <button onclick="window.open('https://meet.google.com', '_blank')" style="margin: 0 5px; padding: 6px 12px; background: #4285f4; color: white; border: none; border-radius: 4px; cursor: pointer;">Google Meet</button>
      <button onclick="window.open('https://discord.com', '_blank')" style="margin: 0 5px; padding: 6px 12px; background: #5865f2; color: white; border: none; border-radius: 4px; cursor: pointer;">Discord</button>
      <button onclick="window.open('https://skype.com', '_blank')" style="margin: 0 5px; padding: 6px 12px; background: #00aff0; color: white; border: none; border-radius: 4px; cursor: pointer;">Skype</button>
    </div>
    <!-- Leave Game button will be added by JS if not present -->
  </div>
  <div id="game-status" style="margin-bottom: 18px; font-size: 1.2em; color: #ffd700;"></div>
  
  <!-- Video Chat Container -->
  <div id="video-container" style="display: none; margin: 0 auto 24px auto; max-width: 400px; text-align: center;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
      <div style="flex: 1; margin-right: 10px;">
        <video id="local-video" autoplay muted playsinline style="width: 100%; max-width: 120px; height: 90px; border: 2px solid #ffd700; border-radius: 8px; background: #000;"></video>
        <div style="font-size: 0.8em; color: #ffd700; margin-top: 4px;">You</div>
      </div>
      <div style="flex: 1; margin-left: 10px;">
        <video id="remote-video" autoplay playsinline style="width: 100%; max-width: 120px; height: 90px; border: 2px solid #ffd700; border-radius: 8px; background: #000;"></video>
        <div style="font-size: 0.8em; color: #ffd700; margin-top: 4px;">Opponent</div>
      </div>
    </div>
    <div id="video-status" style="font-size: 0.9em; color: #ffd700; margin-bottom: 10px;">Video chat connecting...</div>
  </div>
  
  <div id="game-board" style="margin: 0 auto 24px auto; max-width: 400px;"></div>
  <div id="move-history-container" style="max-width: 400px; margin: 0 auto 24px auto;">
    <h3 style="color:#ffd700;">Move History</h3>
    <ol id="move-history"></ol>
  </div>
  <div id="chat-container" style="max-width: 400px; margin: 0 auto;">
    <div id="chat-messages" style="min-height: 48px; max-height: 120px; overflow-y: auto; font-size: 1em; margin-bottom: 8px; color: #fffbe6;"></div>
    <form id="chat-form" style="display: flex; gap: 8px;">
      <input id="chat-input" type="text" placeholder="Type a message..." autocomplete="off" maxlength="200" style="flex:1; padding:7px 10px; border-radius:6px; border:1px solid #ffd700; font-size:1em; background:#222; color:#ffd700;">
      <button type="submit" style="padding:7px 18px; border-radius:6px; border:none; background:#a67c38; color:#fff; font-weight:bold; cursor:pointer;">Send</button>
    </form>
  </div>
  <script src="js/game.js"></script>
</body>
</html>